<div class="flex flex-col items-center p-4">
  <div class="flex items-center justify-between w-10/12 px-6 py-3">
    <div>
      <p class="text-3xl font-bold text-[#004C4C] mb-2">Temario</p>
      <p class="text-2xl font-semibold px-6 text-[#008081]">Parcial 1</p>
    </div>

    <!-- Botón para abrir el modal de agregar -->
    <button 
      class="text-[#004C4C] text-lg font-semibold hover:underline"
      (click)="openAddModal()">
      + Crear
    </button>
  </div>

  <div class="w-10/12">
    <app-generic-card 
      *ngFor="let temario of temarios" 
      [cardData]="temario" 
      cardType="temario" 
      class="w-full">
      <!-- Botones de editar y eliminar dentro del card de cada temario -->
      <button class="text-[#004C4C] hover:text-[#008081]" (click)="openEditModal(temario)">Editar</button>
      <button class="text-red-500 hover:text-red-700" (click)="openDeleteModal(temario)">Eliminar</button>
    </app-generic-card>
  </div>
</div>

<!-- Modal para agregar/editar -->
<div *ngIf="isAddModalOpen" class="fixed inset-0 flex justify-center items-center bg-gray-800 bg-opacity-50 z-50">
  <div class="bg-white p-6 rounded-lg w-96 shadow-lg">
    <span class="absolute top-2 right-2 text-2xl cursor-pointer" (click)="closeAddModal()">&times;</span>
    <h2 class="text-2xl font-semibold mb-4">{{ temarioToEdit.id ? 'Editar' : 'Crear' }} Temario</h2>
    <input [(ngModel)]="temarioToEdit.nombre" placeholder="Nombre del temario" class="w-full p-2 mb-4 border border-gray-300 rounded" />
    <input type="file" (change)="onFileSelected($event)" class="w-full p-2 mb-4 border border-gray-300 rounded" />
    <button (click)="saveTemario()" [disabled]="!temarioToEdit.nombre || !selectedFile" class="w-full bg-teal-500 text-white p-2 rounded hover:bg-teal-600 disabled:bg-gray-300">
      Guardar
    </button>
  </div>
</div>

<!-- Modal para eliminar -->
<div *ngIf="temarioToDelete" class="fixed inset-0 flex justify-center items-center bg-gray-800 bg-opacity-50 z-50">
  <div class="bg-white p-6 rounded-lg w-96 shadow-lg">
    <span class="absolute top-2 right-2 text-2xl cursor-pointer" (click)="closeDeleteModal()">&times;</span>
    <h2 class="text-2xl font-semibold mb-4">Eliminar Temario</h2>
    <p class="mb-4">¿Estás seguro de que quieres eliminar este temario?</p>
    <div class="flex justify-between">
      <button (click)="deleteTemario()" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
        Eliminar
      </button>
      <button (click)="closeDeleteModal()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
        Cancelar
      </button>
    </div>
  </div>
</div>
